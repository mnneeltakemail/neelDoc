# 개요

모든 블록체인은 어떤 블록이 유효한 블록인지 결정 가능하거나 이중 지출이 없도록 보장 하는 메커니즘을 필요로합니다. \(예 : 동일한 자산을 별도의 체인의 다른 사람에게 보내는 것\) 이를 달성하기 위한 몇 가지 처리 방법이 있습니다.  
Waves는 이른바 지분증명 \(Proof-of-Stake, PoS\) 컨센서스 알고리즘을 사용합니다. 본 섹션에서는 PoS에 대한 설명과 Bitcoin에서 등의 블록체인에서 널리 사용되는 작업증명 \(Proof-of-Work, PoW\) 방식의 알고리즘과 비교해 볼 것입니다.

각각의 블록체인은 탈중앙화된 "노드"들의 시스템 \(또는 네트워크에서 발생하는 트랜잭션을 승인하거나 시스템 전반에 탈중앙화 컨센서스를 유지시키는 컴퓨터\) 이기 때문에 노드들이 지속적으로 트랜잭션을 승인 할 수 있도록 장려하는 것이 중요합니다. 노드는 작업증명 Proof-of-Work 시스템에서는 "채굴자 \(miners\)", 지분증명 Proof-of-Stake 시스템에서는 "검증자 \(validators\)"로 알려져 있습니다. "miner" 또는 "validator" 노드들이 트랜잭션을 승인하는 방법과 노드들이 트랜잭션을 승인하는 것에 대해 인센티브를 받는 방식은 Proof-of-Work와 Proof-of-Stake의 주된 차이점 입니다.

# 1. 작업증명 \(Proof-of-Work, PoW\) {#LeasedProofofStake(LPOS)-Proof-of-Work(PoW)}

Proof-of-Work 어려운 수학식을 계산하는 블록 생성기가 필요한 컨센서스 알고리즘 입니다. 이는 채굴 또는 마이닝이라고 칭하며 마이닝은 분산 원장에 새로운 trustless 트랜잭션들\(소위 블록\)의 그룹을 만들기 위해 수행되어야 합니다.

마이닝의 두가지 목적:

1. 주 체인으로 간주될 수 있는 유일한 체인에 블록을 생성하기 위함 \(대체 체인을 만들기에는 너무 많은 리소스를 사용하기 때문\).

2. 블록 생성 작업을 수행한 마이너들에게 보상을 주어 신규 코인을 만들기 위함 \(토탈 서플라이 증가\).

**트랜잭션을 설정하고자 할 때 다음과 같은 사항들이 발생합니다:**

* 다수의 트랜잭션들이 하나의 블록에 들어갑니다.

* 마이너들은 각 블록 내의 트랜잭션이 유효한지 확인합니다.

* 그 다음 마이너는 유효한 블록을 생성하기 위해 수학 퍼즐을 풀어야합니다.

* 수학 퍼즐을 해결한 블록은 유효 블록으로 간주하며 이는 네트워크의 모든 노드들에게 broadcast되고 퍼블릭 블록체인에 저장됩니다.

* 각 블록의 문제를 첫 번째로 해결하는 마이너에게 보상이 주어집니다.

"수학 퍼즐"은 중요한 특징을 가지고 있습니다: asymmety\(비대칭\). 요청자의 작업은 어려워야 하며 네트워크에서는 쉽게 체크되어야 합니다. 이와 같은 발상은 CPU 비용함수, 클라이언트 퍼즐, computational 퍼즐, CPU pricing function으로 알려져 있기도 합니다. 네트워크의 모든 마이너들은 후보 블록의 수학 문제를 첫 번째로 풀기 위해 경쟁합니다. 무차별한 힘을 통해 푸는 것 외에는 다른 방법으로는 풀리지 않는 문제는 본질적으로 아주 많은 시도를 해야 풀 수 있습니다. 마이너가 문제를 풀게되면 이와 동시에 그/그녀는 네트워크 전체에 이를 알리며 프로토콜에서 제공하는 암호화폐 상금\(리워드\)을 받게 됩니다.

51% attack'은 블록체인 시스템에 공격을 가하는 것을 말합니다. 공격자는 네트워크의 컴퓨팅 파워를 제어하여 "이중 지출" 공격을 가하고 새로운 포크를 릴리즈하여 코인을 되찾을 수 있습니다. 이는 해당 코인을 여러 번 사용할 수 있게 해줍니다. 공격자는 한 곳에서 코인을 사용할 수 있으며 필요한 승인 횟수를 받으면 해당 코인을 블록체인에 들어가도록 합니다. 그다음 코인이 한 번도 사용된 적 없는 블록체인에 거짓된 포크를 만들기 위해 그들의 해시파워 51%를 작동시킵니다. 이 작업은 그 코인들을 다시 사용할 수 있게 합니다. 이론적으로 공격자가 51%의 해시파워를 지속적으로 유지하는 한 이 공격은 반복될 수 있습니다.

Proof-of-Work 네트워크의 이점은 시스템에 중요한 변경 사항을 적용할 때 대부분의 투표권은 마이너, 개발자 그리고 커뮤니티의 핵심 멤버들에게 나누어진다는 것입니다. Proof-of-Stake의 네트워크에서는 주요 이해관계자들이 커뮤니티, 기업, 마이너 그리고 개발자들의 의사를 고려하지 않고 변경할 수 있는 기술적 능력이 있습니다.

이러한 투표권의 중앙집중화와 네트워크의 제어는 분산된 원장 기반 암호화폐의 목적을 무력화 시킵니다. 왜냐하면 이는 중앙 권력의 존재를 없애기 위해 네트워크 내에서 모든 요소를 분산하는 원칙에 위배되기 때문입니다.

## 1.1 Proof-of-Work의 단점 {#LeasedProofofStake(LPOS)-Proof-of-Workdownsides}

* 마이너들에게 더 많은 전력 비용을 요구합니다.
* 높은 컴퓨팅 파워를 제공하는 고사양의 하드웨어는 매우 비쌉니다.
* 마이너가 보상이 더 좋은 다른 코인을 채굴 할 가능성이 높습니다 \(충성도\).
* 더 많은 코인이 릴리즈 되면 \(더 많은 Bitcoin의 수\) 해당 코인을 채굴하기 더 어려워지며 마이너들에게 주어지는 보상이 줄어듭니다.

# 2. 지분증명 \(Proof-of-Stake, PoS\) {#LeasedProofofStake(LPOS)-Proof-of-Stake(PoS)}

Proof-of-Stake는 트랜잭션 검증하고 분산된 컨센서스를 성취하는 다른 방법입니다. Proof-of-Work와 목적은 같지만 목표에 도달하는 절차는 매우 다릅니다.

PoW에서 마이너의 블록 수는 하드웨어 리소스와 투자한 에너지의 양에 비례합니다. 그에 반해 PoS에서는 한 사람이 채굴할 수 있으며 그가 보유하고 있는 코인의 수량에 따라 블록 트랜잭션을 검증할 수 있습니다. Proof-of-Work와는 다르게 신규 블록의 생성자는 무작위로 선택되며 더 많은 양의 지분이 체인에 블록을 추가할 가능성이 높습니다.

PoS 시스템에서는 블록 보상이 없기 때문에 마이너는 트랜잭션 수수료를 받습니다. 그렇기 때문에 마이너들은 종종 블록 주조자 또는 생성자라고 불리기도 합니다, 그림 1.

PoS에서 51% attack을 수행하기 위해서는 공격자가 해당 암호화폐의 51%를 확보해야 합니다. Proof-of-Stake는 해당 네트워크를 공격하기 위해 51%의 지분을 가진 마이너에게 불이익을 줌으로써 이 '비극'을 피할 수 있습니다. 평판이 좋은 디지털 코인의 51%를 모으는 것은 어렵고 비용이 많이 들기도 하겠지만 해당 코인의 51% 지분을 가진 마이너는 네트워크를 공격함으로써 이익을 가지지 못할 것입니다. 만약 해당 암호화폐의 가치가 떨어지면 그가 보유하고 있는 자산의 가치도 떨어지는 것이며 따라서 지분 소유자 대다수는 안전한 네트워크를 유지하기 위해 더 많이 장려될 것이기 때문입니다.

PoS는 몇 가지 종류의 공격을 피하기 위한 제약이 있습니다:

* WAVES를 생성하기 위한 최소 수량은 1,000 WAVES 입니다.
* 잔고가 증가하면 generating 잔고는 1,000 블록 후에 증가 됩니다.

## 2.1 우리가 Proof-of-Stake를 사용하는 이유 {#LeasedProofofStake(LPOS)-WhyweuseProof-of-Stake}

* Proof-of-Stake의 중대한 이점 중 하나는 에너지 효율성 입니다.
* Waves는 보다 친환경적이고 저렴한 분산 형태의 컨센서스를 위해 Proof-of-Stake 방식을 시행합니다.
* Proof-of-Stake에서 코인 주조자는 주조된 코인을 보유한 사람들입니다.

![](/_assets/PoW.png)그림 1, PoW vs PoS

# 3. Leased 지분증명 \(Leased Proof-of-Stake, LPoS\) {#LeasedProofofStake(LPOS)-LeasedProof-of-Stake(LPoS)}

LPoS는 Proof-of-Stake에서 좀 더 향상된 버전입니다. 일반적인 Proof-of-Stake 시스템에서는 특정 수량의 암호화폐를 보유한 각각의 노드가 블록체인에 다음 블록을 추가할 수 있지만 LPoS 시스템인 Waves Platform에서는 사용자들이 그들의 잔고를 풀노드들에게 lease 해줄 수 있습니다. LPoS로 사용자들은 Waves를 본인의 지갑에서 다른 컨트랙터에게 lease 할 수 있으며 컨트랙터는 보상으로 퍼센티지로 지불할 것입니다. 풀노드에 lease 되는 수량이 많을수록 해당 풀노드가 다음 블록을 생성할 확률이 높아집니다. 만약 해당 풀노드가 다음 블록을 생성하게 된다면 lease 해준 사람은 풀노드가 수집한 트랜잭션 수수료의 퍼센티지를 받을 것입니다.

Leased Proof-of-Stake 환경에서 사용자들은 직접 풀노드를 운영하거나 풀노드에 그들의 지분을 lease 하여 보상을 받을 수 있습니다. 이 시스템은 누구나 Waves 네트워크 유지 보수에 참여할 수 있도록 합니다.

Waves는 지갑을 지속적으로 실행시켜두거나 "마이너"를 필요로 하지 않는 lite 클라이언트 솔루션을 제공합니다. 그렇기 때문에 사용자들은 그들의 WAVES를 인터넷 브라우저가 있는 컴퓨터 또는 모바일 기기를 통해 lease 할 수 있습니다, 그림 2.

![](/_assets/Webp.net-resizeimage-2.jpg)  
그림 2, LPoS 시스템

## 3.1 WAVES leasing의 이점 {#LeasedProofofStake(LPOS)-BenefitsofleasingyourWAVES}

안전성 \(귀하의 WAVES는 당신의 지갑을 떠나지 않습니다\):

* 사용자들이 WAVES를 노드에게 보내지 않아도 노드 운영자들은 사용자의 마이닝 파워를 사용해 블록을 생성할 수 있습니다.
* Lease 하기 위해 귀하의 지갑에서 코인을 전송하지 않기 때문에 안전합니다.
* 사용자는 버튼 클릭 한번으로 leasing을 중단할 수 있으며 lease 트랜잭션이 취소 될 때까지 조금만 기다리면 됩니다, 그림 2.
* Leasing 할 때 고려해야 하는 유일한 사항은 옳바른 노드 운영자를 선택하는 것 입니다. 노드들은 각자 다른 효율성으로 운영되거나 보상 비율이 다르기 때문입니다.

노드 운영에 필요한 최소 잔고:

* 운영자는 노드를 운영하기 위해 많은 자본을 넣을 필요가 없습니다.
* 노드에 잔액이 없더라도 해당 노드에 1,000개 분량의 generating 잔고가 사용자들로 부터 lease 된다면 노드풀을 함께 형성 할 수 있습니다.

보상 받기:

* 마이너는 조건에 따라 보상의 일부를 lease한 사용자에게 보낼 수 있습니다.
* 네트워크에서 이루어지는 트랜잭션이 많을수록 더 많은 보상을 받을 수 있습니다.
* 이러한 보상은 주로 WAVES로 제공되지만 다른 토큰들이 수수료로 취급 될 수 있는 Waves의 고유한 기능으로 인해 다른 토큰으로 보상 받을 수도 있습니다.

# 3.2 Leasing 트랜잭션 {#LeasedProofofStake(LPOS)-LeasingTransactions}

## 3.2.1 Leasing 트랜잭션 생성하기 {#LeasedProofofStake(LPOS)-CreateLeasingTransaction}

```
"Id": 9q7X84wFuVvKqRdDQeWbtBmpsHt9SXFbvPPtUuKBVxxr ,
"sender" : 3HgqG68qfeVz5dqbyvqnxQceFaH49xmGvUS ,
"fee" : 0.001,
"amount" : 10,
"recipient address" : 3HQanDJhZSsSLbCjTCsMYpPvuj2ieGwKwQ9"
"timestamp":46305781705234713
```

## 3.2.2 Leasing 트랜잭션 취소하기 {#LeasedProofofStake(LPOS)-CancelLeasingTransaction}

```
"sender" : 3HgqG68qfeVz5dqbyvqnxQceFaH49xmGvUS ,
"leaseId": 9q7X84wFuVvKqRdDQeWbtBmpsHt9SXFbvPPtUuKBVxxr
```

# 3.2.3  Leasing에 유용한 링크 {#LeasedProofofStake(LPOS)-Usefullinksforleasing}

[여기를](/en/waves-client/account-management/waves-leasing.md) 클릭하여 Waves를 leasing하는 단계별 안내서를 확인하세요.

[여기를](http://dev.pywaves.org/generators/) 클릭하여 generator의 목록을 확인하세요.

[여기를](https://wavesplatform.com/leasing#nodes) 클릭하여 Waves 노드를 확인하세요.
